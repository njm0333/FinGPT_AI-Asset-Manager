# -----------------------------------------
# 1) 문항별 보기 점수표
# -----------------------------------------

scores = {
    1: {1: 12.5, 2: 12.5, 3: 9.3, 4: 6.2, 5: 3.1},
    2: {1: 3.1,  2: 6.2,  3: 9.3, 4: 12.5, 5: 15.6},
    3: {1: 3.1,  2: 6.2,  3: 9.3, 4: 12.5, 5: 15.6},
    4: {1: 3.1,  2: 6.2,  3: 9.3, 4: 12.5, 5: None},   # ⑤ 없음
    5: {1: 15.6, 2: 12.5, 3: 9.3, 4: 6.2, 5: 3.1},
    6: {1: 9.3,  2: 6.2,  3: 3.1, 4: None, 5: None},   # ④,⑤ 없음
    7: {1: -6.2, 2: 6.2,  3: 12.5, 4: 18.7, 5: None}   # ⑤ 없음
}

# -----------------------------------------
# 2) 투자성향 설명문
# -----------------------------------------

risk_profiles = {
    "안정형": "예금이나 적금 수준의 수익률을 기대하며, 투자원금에 손실이 발생하는 것을 원하지 않는다. 원금 손실의 우려가 없는 상품에 투자하는 데 바람직하다.",
    "안정추구형": "투자원금의 손실 위험은 최소화하고, 이자·배당 등 안정적인 수익을 목표로 한다. 다만 수익을 위해 단기적인 손실을 수용할 수 있으며 일부를 변동성 높은 상품에도 투자할 수 있다. 채권형 금융상품이 적당하다.",
    "위험중립형": "투자에는 그에 따른 위험이 있다는 것을 인식하고 있으며, 예·적금보다 높은 수익을 기대한다면 일정 수준의 손실 위험을 감수할 수 있다. 적립식펀드나 주식연동형 등 중위험·중수익 펀드가 적당하다.",
    "적극투자형": "원금 보전보다 높은 수준의 수익을 추구하는 편이다. 투자자금의 상당 부분을 주식, 주식형 펀드, 파생상품 등 위험자산에 투자할 의향이 있다. 해외·국내 주식형펀드나 비보장형 ELS도 고려할 수 있다.",
    "공격투자형": "시장평균수익률보다 크게 높은 수익을 목표로 하며, 큰 손실 위험도 적극 수용한다. 투자자금 대부분을 주식, 주식형 펀드, 파생상품 등 고위험 자산에 투자할 의향이 있다. 주식 비중 70% 이상 펀드가 적당하다."
}

# -----------------------------------------
# 3) 투자 성향 점수 구간 (사진 속 기준표)
# -----------------------------------------

def classify_risk(total_score):
    if total_score <= 20:
        return "안정형"
    elif total_score <= 40:
        return "안정추구형"
    elif total_score <= 60:
        return "위험중립형"
    elif total_score <= 80:
        return "적극투자형"
    else:
        return "공격투자형"


# -----------------------------------------
# 4) 사용자 응답을 받아 성향 계산하는 함수
# -----------------------------------------

def evaluate_investor(answers):
    """
    answers = {
        1: 보기번호,
        2: 보기번호,
        ...
        7: 보기번호
    }
    """
    total = 0.0

    for q_num, choice in answers.items():
        point = scores[q_num].get(choice)
        if point is None:
            raise ValueError(f"{q_num}번 문항의 '{choice}'번 보기는 점수표에 존재하지 않습니다.")
        total += point

    risk_type = classify_risk(total)
    description = risk_profiles[risk_type]

    return {
        "총점": total,
        "투자성향": risk_type,
        "설명": description
    }


# -----------------------------------------
# 5) 사용 예시
# -----------------------------------------

example_answers = {
    1: 2,
    2: 3,
    3: 3,
    4: 2,
    5: 2,
    6: 1,
    7: 3
}

result = evaluate_investor(example_answers)

print(result)
